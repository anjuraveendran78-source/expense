{% extends 'base_dashboard.html' %}
{% load static %}

{% block title %}Register Family Member - Expense Tracker{% endblock %}

{% block content %}
<div class="flex justify-center items-start min-h-[70vh] pt-10 animate-fade-in-up">

  <div
    class="w-full max-w-lg bg-white dark:bg-slate-800 rounded-3xl shadow-2xl border border-gray-100 dark:border-slate-700 overflow-hidden">

    <!-- Header -->
    <div class="bg-slate-50 dark:bg-slate-900/50 px-8 py-6 border-b border-gray-100 dark:border-slate-700 text-center">
      <h2 class="text-2xl font-bold text-slate-800 dark:text-white">New Family Member</h2>
      <p class="text-slate-500 dark:text-slate-400 text-sm mt-1">Add a member to share expenses</p>
    </div>

    <form method="post" action="{% url 'add_family_member' %}" class="p-8 space-y-5">
      {% csrf_token %}

      <!-- Error Handling -->
      {% if messages %}
      <div class="space-y-2 mb-4">
        {% for message in messages %}
        <div
          class="p-4 rounded-lg text-sm font-medium {% if message.tags == 'success' %}bg-green-50 text-green-600 dark:bg-green-900/20 dark:text-green-400{% else %}bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400{% endif %}">
          {{ message }}
        </div>
        {% endfor %}
      </div>
      {% endif %}

      <!-- Username -->
      <div>
        <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2">
          Member Name
        </label>
        {{ forms.username }}
      </div>

      <!-- Contact Info -->
      <div class="grid grid-cols-2 gap-4">
        <div>
          <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2">
            Email
          </label>
          {{ forms.email_id }}
        </div>
        <div>
          <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2">
            Phone
          </label>
          {{ forms.phn_no }}
        </div>
      </div>

      <!-- Location -->
      <div>
        <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2">
          Location
        </label>
        {{ forms.location }}
      </div>

      <!-- Passwords -->
      <div class="grid grid-cols-2 gap-4">
        <div>
          <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2">
            Password
          </label>
          {{ forms.password }}
        </div>
        <div>
          <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2">
            Confirm Password
          </label>
          {{ forms.confirm_password }}
        </div>
      </div>


      <!-- Submit Button -->
      <button type="submit"
        class="w-full py-4 bg-emerald-600 hover:bg-emerald-700 text-white font-bold rounded-xl shadow-lg shadow-emerald-500/30 transition-all transform hover:-translate-y-0.5 mt-4">
        Register Member
      </button>

      <div class="text-center mt-4">
        <a href="{% url 'Memberlist_page' %}"
          class="text-sm text-slate-500 hover:text-emerald-600 dark:text-slate-400 dark:hover:text-emerald-400 transition-colors">
          View Family Members
        </a>
      </div>

    </form>
  </div>
</div>
{% endblock %}